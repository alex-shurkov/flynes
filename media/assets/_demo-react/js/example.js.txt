import React from 'react';
import DayPicker, {DateUtils} from 'react-day-picker';
import 'react-day-picker/lib/style.css';
import hijriDate from "hijrah-date";

export default class Example extends React.Component {
	static defaultProps = {
		numberOfMonths: (window.screen.width < 480) ? 1 : 2,
	};

	constructor (props) {
		super(props);
		this.handleDayClick = this.handleDayClick.bind(this);
		this.handleResetClick = this.handleResetClick.bind(this);
		this.state = this.getInitialState();

	}

	getInitialState () {
		return {
			from: undefined,
			to: undefined,
		};
	}

	handleDayClick (day) {
		const range = DateUtils.addDayToRange(day, this.state);
		this.setState(range);
	}

	handleResetClick () {
		this.setState(this.getInitialState());
	}

	renderDay (day) {
		const date = day.getDate();
		const hijDate = new hijriDate(day);
		const d = hijDate.getDate();

		return (
			<div className="DayPicker-Day-Content">
				<span>{date}</span>
				<small>{d}</small>
			</div>
		);
	}
	render () {
		const {from, to} = this.state;
		const modifiers = {start: from, end: to};
		return (
			<div className="RangeExample">
				<DayPicker
					className="Selectable"
					numberOfMonths={this.props.numberOfMonths}
					selectedDays={[from, {from, to}]}
					modifiers={modifiers}
					onDayClick={this.handleDayClick}
					renderDay={this.renderDay}
				/>
				<p>
					{!from && !to && 'Please select the first day.'}
					{from && !to && 'Please select the last day.'}
					{from &&
					to &&
					`From ${from.toDateString()} to ${to.toDateString()}`}{' '}

				</p>
				<p className="_color-main">
					9 May ‘’Name of a religious holiday’’ 14:40
				</p>
			</div>
		);
	}
}
